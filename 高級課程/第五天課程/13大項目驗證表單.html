<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src='js/common-dom.js'></script>
    <style>
        body {
            background: #ccc;
        }
        
        label {
            width: 40px;
            display: inline-block;
        }
        
        span {
            color: red;
        }
        
        .container {
            margin: 50px auto;
            width: 400px;
            padding: 50px;
            line-height: 40px;
            border: 1px solid #999;
            background: #efefef;
        }
        
        span {
            margin-left: 30px;
            font-size: 12px;
        }
        
        .wrong {
            color: red
        }
        
        .right {
            color: green;
        }
        
        .defau {
            width: 200px;
            height: 20px;
        }
        
        .de1 {
            background-position: 0 -20px;
        }
        
        textarea {
            border: 1px solid #999;
            background: #000;
            color: #fff;
        }
        
        .ta {
            text-align: center;
        }
    </style>
</head>

<body>
    <div class="container" id="dv">
        <label for="qq">Q Q</label><input type="text" id="qq"><span></span><br/>
        <label>市電</label><input type="text" id="phone"><span></span><br/>
        <label>MAIL</label><input type="text" id="e-mail"><span></span><br/>
        <label>手機</label><input type="text" id="telephone"><span></span><br/>
        <label>姓名</label><input type="text" id="fullName"><span></span><br/>
    </div>
    <div class="ta">

        <textarea id='ta' name='ta' rows='25' cols='100'>
	大範圍驗證資料

	getReg(my$("qq"), /^\d{5,9}$/);
	getReg(my$("phone"), /^\d{2}[-]\d{8}$/);
	getReg(my$("e-mail"), /^[0-9a-zA-Z_.-]+[@][0-9a-zA-Z_.-]+([.][a-zA-Z]+){1,2}$/);
	getReg(my$("telephone"), /^\d{4}[-]\d{6}$/);
	getReg(my$("fullName"), /^[\u4e00-\u9fa5]{2,6}$/);

	function getReg(input, reg) {
		input.onblur = function() {
			console.log("有來喔");
			if (reg.test(this.value)) {
				this.nextElementSibling.innerText = "正確";
				this.nextElementSibling.style.color = "green";
			} else {
				this.nextElementSibling.innerText = "錯誤，請重新輸入";
				this.nextElementSibling.style.color = "red";
			}
		};
	}
</textarea>
    </div>

    <script>
        getReg(my$("qq"), /^\d{5,9}$/);
        getReg(my$("phone"), /^\d{2}[-]\d{8}$/);
        getReg(my$("e-mail"), /^[0-9a-zA-Z_.-]+[@][0-9a-zA-Z_.-]+([.][a-zA-Z]+){1,2}$/);
        getReg(my$("telephone"), /^\d{4}[-]\d{6}$/);
        getReg(my$("fullName"), /^[\u4e00-\u9fa5]{2,6}$/);

        function getReg(input, reg) {
            input.onblur = function() {
                console.log("有來喔");
                if (reg.test(this.value)) {
                    this.nextElementSibling.innerText = "正確";
                    this.nextElementSibling.style.color = "green";
                } else {
                    this.nextElementSibling.innerText = "錯誤，請重新輸入";
                    this.nextElementSibling.style.color = "red";
                }
            };
        }
    </script>
</body>

</html>